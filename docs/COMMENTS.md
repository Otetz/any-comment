# Комментарии

Оглавление
----------

* [GET /comments/ — Показать все Посты](#get-comments--Показать-все-Посты)
* [POST /comments/ — Создать новый Пост](#post-comments--Создать-новый-Пост)
* [GET /comments/{comment_id} – Получить информацио о Посте](#get-commentscomment_id--Получить-информацио-о-Посте)
* [PUT /comments/{comment_id} — Изменить информацио о Посте](#put-commentscomment_id--Изменить-информацио-о-Посте)
* [DELETE /comments/{comment_id} — Удалить Пост](#delete-commentscomment_id--Удалить-Пост)

## GET /comments/ — Показать все Посты
**Аргументы**: Нет  
**Возвращает**: Список всех Постов

Поддерживается [пагинация](./OPTIONS.md#Пагинация).

**Пример запроса**:
```bash
curl -X GET http://HOSTNAME/api/1.0/comments/
```

**Пример ответа**:
```json
{
  "pages": 1,
  "total": 2,
  "response": [
    {
      "entityid": 321008,
      "title": "Erlang был целенаправленно разработан для …",
      "postid": 391,
      "text": "Полнотиповое программирование может поддерживаться на …",
      "userid": 324
    },
    {
      "entityid": 321009,
      "title": "REPL — форма организации простой интерактивной …",
      "postid": 392,
      "text": "Erlang — функциональный язык программирования с сильной …",
      "userid": 318
    }
  ]
}
```

## POST /comments/ — Создать новый Пост
**Аргументы**: Нет  
**Возвращает**: Запись о новом Посте, либо Возникшие ошибки

**Пример запроса**:
```bash
curl -X POST http://HOSTNAME/api/1.0/comments/ \
  -H 'content-type: application/json' \
  -d '{"userid": 319, "title": "Erlang был целенаправленно разработан для …", "text": "Erlang — функциональный язык программирования с сильной …"}'
```
**Пример ответа**:
```json
{
  "entityid":532814,
  "title":"Erlang был целенаправленно разработан для …",
  "postid":477,
  "text":"Erlang — функциональный язык программирования с сильной …",
  "userid":319
}
```

## GET /comments/{comment_id} – Получить информацио о Посте
**Аргументы**: 
- *comment_id* (int) Идентификатор поста  

**Возвращает**: Запись с информацией о запрошенном Посте либо Сообщение об ощибке

**Пример запроса**:
```bash
curl -X GET http://HOSTNAME/api/1.0/comments/477
```
**Пример успешного ответа**:
```json
{
  "response": {
    "entityid": 532814,
    "title": "Erlang был целенаправленно разработан для …",
    "postid": 477,
    "text": "Erlang — функциональный язык программирования с сильной …",
    "userid": 319
  }
}
```
**Пример с сообщением об ошибке**:
```json
{
  "errors": [
    {
      "error": "Пост не найден",
      "comment_id": 477
    }
  ]
}
```

## PUT /comments/{comment_id} — Изменить информацио о Посте
**Аргументы**: 
- *comment_id* (int) Идентификатор поста  

**Возвращает**: Пустой словарь `{}` при успехе, иначе Возникшие ошибки

**Пример запроса**:
```bash
curl -X PUT http://HOSTNAME/api/1.0/comments/477 \
  -H 'content-type: application/json' \
  -d '{"name": "Александра Щербакова"}'
```

## DELETE /comments/{comment_id} — Удалить Пост
**Аргументы**: 
- *comment_id* (int) Идентификатор поста

**Возвращает**: Пустой словарь `{}` при успехе, иначе Возникшие ошибки. При попытке удаеления ветви возвращает статус **400**.

**Пример запроса**:
```bash
curl -X DELETE http://HOSTNAME/api/1.0/comments/477
```
